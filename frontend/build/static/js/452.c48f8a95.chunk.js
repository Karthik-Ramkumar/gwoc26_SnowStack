"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[452],{5452(e,t,r){r.r(t),r.d(t,{default:()=>A});var a=r(5043),n=r(9722),s=r(2555),i=r(5404),l=r(579);const o=[{src:"https://images.unsplash.com/photo-1755331039789-7e5680e26e8f?q=80&w=774&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Abstract art"},{src:"https://images.unsplash.com/photo-1755569309049-98410b94f66d?q=80&w=772&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Modern sculpture"},{src:"https://images.unsplash.com/photo-1755497595318-7e5e3523854f?q=80&w=774&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Digital artwork"},{src:"https://images.unsplash.com/photo-1755353985163-c2a0fe5ac3d8?q=80&w=774&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Contemporary art"},{src:"https://images.unsplash.com/photo-1745965976680-d00be7dc0377?q=80&w=774&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Geometric pattern"},{src:"https://images.unsplash.com/photo-1752588975228-21f44630bb3c?q=80&w=774&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Textured surface"},{src:"https://pbs.twimg.com/media/Gyla7NnXMAAXSo_?format=jpg&name=large",alt:"Social media image"}],c={maxVerticalRotationDeg:5,dragSensitivity:20,enlargeTransitionMs:300,segments:50},d=(e,t,r)=>Math.min(Math.max(e,t),r),u=e=>(e%360+360)%360,m=e=>((e+180)%360+360)%360-180,h=(e,t,r)=>{var a;const n=null!==(a=e.dataset[t])&&void 0!==a?a:e.getAttribute("data-".concat(t)),s=null==n?NaN:parseFloat(n);return Number.isFinite(s)?s:r};function g(e){let{images:t=o,fit:r=1,fitBasis:n="auto",minRadius:g=3e3,maxRadius:p=1/0,padFactor:x=.25,overlayBlurColor:v="#fff5f532",maxVerticalRotationDeg:f=c.maxVerticalRotationDeg,dragSensitivity:y=c.dragSensitivity,enlargeTransitionMs:b=c.enlargeTransitionMs,segments:w=c.segments,dragDampening:j=2,openedImageWidth:N="250px",openedImageHeight:k="350px",imageBorderRadius:M="30px",openedImageBorderRadius:C="30px",grayscale:R=!1}=e;const A=(0,a.useRef)(null),D=(0,a.useRef)(null),E=(0,a.useRef)(null),S=(0,a.useRef)(null),L=(0,a.useRef)(null),z=(0,a.useRef)(null),B=(0,a.useRef)(null),P=(0,a.useRef)(null),I=(0,a.useRef)({x:0,y:0}),_=(0,a.useRef)({x:0,y:0}),q=(0,a.useRef)(null),H=(0,a.useRef)(!1),W=(0,a.useRef)(!1),G=(0,a.useRef)(null),Y=(0,a.useRef)(!1),F=(0,a.useRef)(0),X=(0,a.useRef)(0),T=(0,a.useRef)(!1),O=(0,a.useCallback)(()=>{T.current||(T.current=!0,document.body.classList.add("dg-scroll-lock"))},[]),V=(0,a.useCallback)(()=>{var e;T.current&&"true"!==(null===(e=A.current)||void 0===e?void 0:e.getAttribute("data-enlarging"))&&(T.current=!1,document.body.classList.remove("dg-scroll-lock"))},[]),U=(0,a.useMemo)(()=>function(e,t){const r=Array.from({length:t},(e,t)=>2*t-37),a=[-4,-2,0,2,4],n=[-3,-1,1,3,5],i=r.flatMap((e,t)=>(t%2===0?a:n).map(t=>({x:e,y:t,sizeX:2,sizeY:2}))),l=i.length;if(0===e.length)return i.map(e=>(0,s.A)((0,s.A)({},e),{},{src:"",alt:""}));e.length>l&&console.warn("[DomeGallery] Provided image count (".concat(e.length,") exceeds available tiles (").concat(l,"). Some images will not be shown."));const o=e.map(e=>"string"===typeof e?{src:e,alt:""}:{src:e.src||"",alt:e.alt||""}),c=Array.from({length:l},(e,t)=>o[t%o.length]);for(let s=1;s<c.length;s++)if(c[s].src===c[s-1].src)for(let e=s+1;e<c.length;e++)if(c[e].src!==c[s].src){const t=c[s];c[s]=c[e],c[e]=t;break}return i.map((e,t)=>(0,s.A)((0,s.A)({},e),{},{src:c[t].src,alt:c[t].alt}))}(t,w),[t,w]),K=(e,t)=>{const r=E.current;r&&(r.style.transform="translateZ(calc(var(--radius) * -1)) rotateX(".concat(e,"deg) rotateY(").concat(t,"deg)"))},Z=(0,a.useRef)(null);(0,a.useEffect)(()=>{const e=A.current;if(!e)return;const t=new ResizeObserver(t=>{var a;const s=t[0].contentRect,i=Math.max(1,s.width),l=Math.max(1,s.height),o=Math.min(i,l),c=Math.max(i,l),u=i/l;let m;switch(n){case"min":m=o;break;case"max":m=c;break;case"width":m=i;break;case"height":m=l;break;default:m=u>=1.3?i:o}let h=m*r;const f=1.35*l;h=Math.min(h,f),h=d(h,g,p),Z.current=Math.round(h);const y=Math.max(8,Math.round(o*x));e.style.setProperty("--radius","".concat(Z.current,"px")),e.style.setProperty("--viewer-pad","".concat(y,"px")),e.style.setProperty("--overlay-blur-color",v),e.style.setProperty("--tile-radius",M),e.style.setProperty("--enlarge-radius",C),e.style.setProperty("--image-filter",R?"grayscale(1)":"none"),K(I.current.x,I.current.y);const b=null===(a=L.current)||void 0===a?void 0:a.querySelector(".enlarge");if(b&&S.current&&D.current){const e=S.current.getBoundingClientRect(),t=D.current.getBoundingClientRect();if(N&&k){const r=document.createElement("div");r.style.cssText="position: absolute; width: ".concat(N,"; height: ").concat(k,"; visibility: hidden;"),document.body.appendChild(r);const a=r.getBoundingClientRect();document.body.removeChild(r);const n=e.left-t.left+(e.width-a.width)/2,s=e.top-t.top+(e.height-a.height)/2;b.style.left="".concat(n,"px"),b.style.top="".concat(s,"px")}else b.style.left="".concat(e.left-t.left,"px"),b.style.top="".concat(e.top-t.top,"px"),b.style.width="".concat(e.width,"px"),b.style.height="".concat(e.height,"px")}});return t.observe(e),()=>t.disconnect()},[r,n,g,p,x,v,R,M,C,N,k]),(0,a.useEffect)(()=>{K(I.current.x,I.current.y)},[]),(0,a.useEffect)(()=>{const e=setInterval(()=>{H.current||Y.current||null!==G.current||(I.current.y=m(I.current.y+.1),K(I.current.x,I.current.y))},50);return()=>clearInterval(e)},[]);const J=(0,a.useCallback)(()=>{G.current&&(cancelAnimationFrame(G.current),G.current=null)},[]),Q=(0,a.useCallback)((e,t)=>{const r=1.4;let a=80*d(e,-1.4,r),n=80*d(t,-1.4,r),s=0;const i=d(null!==j&&void 0!==j?j:.6,0,1),l=.94+.055*i,o=.015-.01*i,c=Math.round(90+270*i),u=()=>{if(a*=l,n*=l,Math.abs(a)<o&&Math.abs(n)<o)return void(G.current=null);if(++s>c)return void(G.current=null);const e=d(I.current.x-n/200,-f,f),t=m(I.current.y+a/200);I.current={x:e,y:t},K(e,t),G.current=requestAnimationFrame(u)};J(),G.current=requestAnimationFrame(u)},[j,f,J]);(0,i.useGesture)({onDragStart:e=>{let{event:t}=e;if(B.current)return;J();const r=t;H.current=!0,W.current=!1,_.current=(0,s.A)({},I.current),q.current={x:r.clientX,y:r.clientY}},onDrag:e=>{let{event:t,last:r,velocity:a=[0,0],direction:n=[0,0],movement:s}=e;if(B.current||!H.current||!q.current)return;const i=t,l=i.clientX-q.current.x,o=i.clientY-q.current.y;if(!W.current){l*l+o*o>16&&(W.current=!0)}const c=d(_.current.x-o/y,-f,f),u=m(_.current.y+l/y);if(I.current.x===c&&I.current.y===u||(I.current={x:c,y:u},K(c,u)),r){H.current=!1;let[e,t]=a;const[r,i]=n;let l=e*r,o=t*i;if(Math.abs(l)<.001&&Math.abs(o)<.001&&Array.isArray(s)){const[e,t]=s;l=d(e/y*.02,-1.2,1.2),o=d(t/y*.02,-1.2,1.2)}(Math.abs(l)>.005||Math.abs(o)>.005)&&Q(l,o),W.current&&(X.current=performance.now()),W.current=!1}}},{target:D,eventOptions:{passive:!0}}),(0,a.useEffect)(()=>{const e=z.current;if(!e)return;const t=()=>{var e;if(performance.now()-F.current<250)return;const t=B.current;if(!t)return;const r=t.parentElement,a=null===(e=L.current)||void 0===e?void 0:e.querySelector(".enlarge");if(!a)return;const n=r.querySelector(".item__image--reference"),s=P.current;var i;if(!s)return a.remove(),n&&n.remove(),r.style.setProperty("--rot-y-delta","0deg"),r.style.setProperty("--rot-x-delta","0deg"),t.style.visibility="",t.style.zIndex=0,B.current=null,null===(i=A.current)||void 0===i||i.removeAttribute("data-enlarging"),Y.current=!1,void V();const l=a.getBoundingClientRect(),o=A.current.getBoundingClientRect(),c=s.left-o.left,d=s.top-o.top,u=s.width,m=s.height,h={left:l.left-o.left,top:l.top-o.top,width:l.width,height:l.height},g=document.createElement("div");g.className="enlarge-closing",g.style.cssText="position:absolute;left:".concat(h.left,"px;top:").concat(h.top,"px;width:").concat(h.width,"px;height:").concat(h.height,"px;z-index:9999;border-radius: var(--enlarge-radius, 32px);overflow:hidden;box-shadow:0 10px 30px rgba(0,0,0,.35);transition:all ").concat(b,"ms ease-out;pointer-events:none;margin:0;transform:none;");const p=a.querySelector("img");if(p){const e=p.cloneNode();e.style.cssText="width:100%;height:100%;object-fit:cover;",g.appendChild(e)}a.remove(),A.current.appendChild(g),g.getBoundingClientRect(),requestAnimationFrame(()=>{g.style.left=c+"px",g.style.top=d+"px",g.style.width=u+"px",g.style.height=m+"px",g.style.opacity="0"});g.addEventListener("transitionend",()=>{g.remove(),P.current=null,n&&n.remove(),r.style.transition="none",t.style.transition="none",r.style.setProperty("--rot-y-delta","0deg"),r.style.setProperty("--rot-x-delta","0deg"),requestAnimationFrame(()=>{var e;t.style.visibility="",t.style.opacity="0",t.style.zIndex=0,B.current=null,null===(e=A.current)||void 0===e||e.removeAttribute("data-enlarging"),requestAnimationFrame(()=>{r.style.transition="",t.style.transition="opacity 300ms ease-out",requestAnimationFrame(()=>{t.style.opacity="1",setTimeout(()=>{var e;t.style.transition="",t.style.opacity="",Y.current=!1,H.current||"true"===(null===(e=A.current)||void 0===e?void 0:e.getAttribute("data-enlarging"))||document.body.classList.remove("dg-scroll-lock")},300)})})})},{once:!0})};e.addEventListener("click",t);const r=e=>{"Escape"===e.key&&t()};return window.addEventListener("keydown",r),()=>{e.removeEventListener("click",t),window.removeEventListener("keydown",r)}},[b,V]);const $=(0,a.useCallback)(e=>{var t,r,a;if(Y.current)return;Y.current=!0,F.current=performance.now(),O();const n=e.parentElement;B.current=e,e.setAttribute("data-focused","true");const s=function(e,t,r,a,n){const s=360/n/2;return{rotateX:s*(t-(a-1)/2),rotateY:s*(e+(r-1)/2)}}(h(n,"offsetX",0),h(n,"offsetY",0),h(n,"sizeX",2),h(n,"sizeY",2),w);let i=-(u(s.rotateY)+u(I.current.y))%360;i<-180&&(i+=360);const l=-s.rotateX-I.current.x;n.style.setProperty("--rot-y-delta","".concat(i,"deg")),n.style.setProperty("--rot-x-delta","".concat(l,"deg"));const o=document.createElement("div");o.className="item__image item__image--reference",o.style.opacity="0",o.style.transform="rotateX(".concat(-s.rotateX,"deg) rotateY(").concat(-s.rotateY,"deg)"),n.appendChild(o),o.offsetHeight;const c=o.getBoundingClientRect(),d=null===(t=D.current)||void 0===t?void 0:t.getBoundingClientRect(),m=null===(r=S.current)||void 0===r?void 0:r.getBoundingClientRect();if(!d||!m||c.width<=0||c.height<=0)return Y.current=!1,B.current=null,n.removeChild(o),void V();P.current={left:c.left,top:c.top,width:c.width,height:c.height},e.style.visibility="hidden",e.style.zIndex=0;const g=document.createElement("div");g.className="enlarge",g.style.position="absolute",g.style.left=m.left-d.left+"px",g.style.top=m.top-d.top+"px",g.style.width=m.width+"px",g.style.height=m.height+"px",g.style.opacity="0",g.style.zIndex="30",g.style.willChange="transform, opacity",g.style.transformOrigin="top left",g.style.transition="transform ".concat(b,"ms ease, opacity ").concat(b,"ms ease");const p=n.dataset.src||(null===(a=e.querySelector("img"))||void 0===a?void 0:a.src)||"",x=document.createElement("img");x.src=p,g.appendChild(x),L.current.appendChild(g);const v=c.left-m.left,f=c.top-m.top,y=c.width/m.width,j=c.height/m.height,M=isFinite(y)&&y>0?y:1,C=isFinite(j)&&j>0?j:1;g.style.transform="translate(".concat(v,"px, ").concat(f,"px) scale(").concat(M,", ").concat(C,")"),setTimeout(()=>{var e;g.parentElement&&(g.style.opacity="1",g.style.transform="translate(0px, 0px) scale(1, 1)",null===(e=A.current)||void 0===e||e.setAttribute("data-enlarging","true"))},16);if(N||k){const e=t=>{if("transform"!==t.propertyName)return;g.removeEventListener("transitionend",e);const r=g.style.transition;g.style.transition="none";const a=N||"".concat(m.width,"px"),n=k||"".concat(m.height,"px");g.style.width=a,g.style.height=n;const s=g.getBoundingClientRect();g.style.width=m.width+"px",g.style.height=m.height+"px",g.offsetWidth,g.style.transition="left ".concat(b,"ms ease, top ").concat(b,"ms ease, width ").concat(b,"ms ease, height ").concat(b,"ms ease");const i=m.left-d.left+(m.width-s.width)/2,l=m.top-d.top+(m.height-s.height)/2;requestAnimationFrame(()=>{g.style.left="".concat(i,"px"),g.style.top="".concat(l,"px"),g.style.width=a,g.style.height=n});const o=()=>{g.removeEventListener("transitionend",o),g.style.transition=r};g.addEventListener("transitionend",o,{once:!0})};g.addEventListener("transitionend",e)}},[b,O,k,N,w,V]),ee=(0,a.useCallback)(e=>{H.current||W.current||performance.now()-X.current<80||Y.current||$(e.currentTarget)},[$]),te=(0,a.useCallback)(e=>{"touch"===e.pointerType&&(H.current||W.current||performance.now()-X.current<80||Y.current||$(e.currentTarget))},[$]);return(0,a.useEffect)(()=>()=>{document.body.classList.remove("dg-scroll-lock")},[]),(0,l.jsx)("div",{ref:A,className:"sphere-root",style:{"--segments-x":w,"--segments-y":w,"--overlay-blur-color":v,"--tile-radius":M,"--enlarge-radius":C,"--image-filter":R?"grayscale(1)":"none"},children:(0,l.jsxs)("main",{ref:D,className:"sphere-main",children:[(0,l.jsx)("div",{className:"stage",children:(0,l.jsx)("div",{ref:E,className:"sphere",children:U.map((e,t)=>(0,l.jsx)("div",{className:"item","data-src":e.src,"data-offset-x":e.x,"data-offset-y":e.y,"data-size-x":e.sizeX,"data-size-y":e.sizeY,style:{"--offset-x":e.x,"--offset-y":e.y,"--item-size-x":e.sizeX,"--item-size-y":e.sizeY},children:(0,l.jsx)("div",{className:"item__image",role:"button",tabIndex:0,"aria-label":e.alt||"Open image",onClick:ee,onPointerUp:te,children:(0,l.jsx)("img",{src:e.src,draggable:!1,alt:e.alt})})},"".concat(e.x,",").concat(e.y,",").concat(t)))})}),(0,l.jsx)("div",{className:"overlay"}),(0,l.jsx)("div",{className:"overlay overlay--blur"}),(0,l.jsx)("div",{className:"edge-fade edge-fade--top"}),(0,l.jsx)("div",{className:"edge-fade edge-fade--bottom"}),(0,l.jsxs)("div",{className:"viewer",ref:L,children:[(0,l.jsx)("div",{ref:z,className:"scrim"}),(0,l.jsx)("div",{ref:S,className:"frame"})]})]})})}const p=function(e){let{images:t=[],title:r="Workshop Moments",style:n}=e;const s=(0,a.useRef)(null),[i,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(0),[u,m]=(0,a.useState)(0);if(!t||0===t.length)return null;const h=[...t,...t];return(0,l.jsx)("section",{className:"workshop-carousel-section",style:n,children:(0,l.jsxs)("div",{className:"workshop-content-wrapper",children:[(0,l.jsx)("div",{className:"workshop-floating-header",children:(0,l.jsx)("h2",{children:r})}),(0,l.jsx)("div",{className:"workshop-glass-card",children:(0,l.jsx)("div",{className:"workshop-carousel-container ".concat(i?"is-dragging":""),ref:s,onMouseDown:e=>{s.current&&(o(!0),d(e.pageX-s.current.offsetLeft),m(s.current.scrollLeft),s.current.style.cursor="grabbing")},onMouseUp:()=>{o(!1),s.current&&(s.current.style.cursor="grab")},onMouseMove:e=>{if(!i||!s.current)return;e.preventDefault();const t=2*(e.pageX-s.current.offsetLeft-c);s.current.scrollLeft=u-t},onMouseLeave:()=>{i&&(o(!1),s.current&&(s.current.style.cursor="grab"))},children:(0,l.jsx)("div",{className:"workshop-carousel-track",children:h.map((e,t)=>(0,l.jsx)("div",{className:"workshop-carousel-item",children:(0,l.jsx)("img",{src:e.src||e.image_url,alt:e.alt||e.caption||"Workshop ".concat(t+1),loading:"lazy",draggable:"false"})},"img-".concat(t)))})})})]})})};const x=function(e){let{images:t=[],title:r="Studio & Events",style:n}=e;const s=(0,a.useRef)(null),[i,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(0),[u,m]=(0,a.useState)(0);if(!t||0===t.length)return null;const h=[...t,...t];return(0,l.jsx)("section",{className:"studio-carousel-section",style:n,children:(0,l.jsxs)("div",{className:"studio-content-wrapper",children:[(0,l.jsx)("div",{className:"studio-floating-header",children:(0,l.jsx)("h2",{children:r})}),(0,l.jsx)("div",{className:"studio-glass-card",children:(0,l.jsx)("div",{className:"studio-carousel-container ".concat(i?"is-dragging":""),ref:s,onMouseDown:e=>{s.current&&(o(!0),d(e.pageX-s.current.offsetLeft),m(s.current.scrollLeft),s.current.style.cursor="grabbing")},onMouseUp:()=>{o(!1),s.current&&(s.current.style.cursor="grab")},onMouseMove:e=>{if(!i||!s.current)return;e.preventDefault();const t=2*(e.pageX-s.current.offsetLeft-c);s.current.scrollLeft=u-t},onMouseLeave:()=>{i&&(o(!1),s.current&&(s.current.style.cursor="grab"))},children:(0,l.jsx)("div",{className:"studio-carousel-track",children:h.map((e,t)=>(0,l.jsx)("div",{className:"studio-carousel-item",children:(0,l.jsx)("img",{src:e.src||e.image_url,alt:e.alt||e.caption||"Studio ".concat(t+1),loading:"lazy",draggable:"false"})},"img-".concat(t)))})})})]})})};var v=r(3986),f=r(8270);const y=["customClass"],b=(0,a.forwardRef)((e,t)=>{var r;let{customClass:a}=e,n=(0,v.A)(e,y);return(0,l.jsx)("div",(0,s.A)((0,s.A)({ref:t},n),{},{className:"card ".concat(null!==a&&void 0!==a?a:""," ").concat(null!==(r=n.className)&&void 0!==r?r:"").trim()}))});b.displayName="Card";const w=(e,t,r,a)=>({x:e*t,y:-e*r,z:-e*t*1.5,zIndex:a-e}),j=e=>{let{width:t=500,height:r=400,cardDistance:n=60,verticalDistance:i=70,delay:o=5e3,pauseOnHover:c=!1,onCardClick:d,skewAmount:u=6,easing:m="elastic",children:h}=e;const g="elastic"===m?{ease:"elastic.out(0.6,0.9)",durDrop:2,durMove:2,durReturn:2,promoteOverlap:.9,returnDelay:.05}:{ease:"power1.inOut",durDrop:.8,durMove:.8,durReturn:.8,promoteOverlap:.45,returnDelay:.2},p=(0,a.useMemo)(()=>a.Children.toArray(h),[h]),x=(0,a.useMemo)(()=>p.map(()=>a.createRef()),[p.length]),v=(0,a.useRef)(Array.from({length:p.length},(e,t)=>t)),y=(0,a.useRef)(null),b=(0,a.useRef)(),j=(0,a.useRef)(null);(0,a.useEffect)(()=>{const e=x.length;x.forEach((t,r)=>{return a=t.current,s=w(r,n,i,e),l=u,f.Ay.set(a,{x:s.x,y:s.y,z:s.z,xPercent:-50,yPercent:-50,skewY:l,transformOrigin:"center center",zIndex:s.zIndex,force3D:!0});var a,s,l});const t=()=>{if(v.current.length<2)return;const[e,...t]=v.current,r=x[e].current,a=f.Ay.timeline();y.current=a,a.to(r,{y:"+=500",duration:g.durDrop,ease:g.ease}),a.addLabel("promote","-=".concat(g.durDrop*g.promoteOverlap)),t.forEach((e,t)=>{const r=x[e].current,s=w(t,n,i,x.length);a.set(r,{zIndex:s.zIndex},"promote"),a.to(r,{x:s.x,y:s.y,z:s.z,duration:g.durMove,ease:g.ease},"promote+=".concat(.15*t))});const s=w(x.length-1,n,i,x.length);a.addLabel("return","promote+=".concat(g.durMove*g.returnDelay)),a.call(()=>{f.Ay.set(r,{zIndex:s.zIndex})},void 0,"return"),a.to(r,{x:s.x,y:s.y,z:s.z,duration:g.durReturn,ease:g.ease},"return"),a.call(()=>{v.current=[...t,e]})};if(t(),b.current=window.setInterval(t,o),c){const e=j.current,r=()=>{var e;null===(e=y.current)||void 0===e||e.pause(),clearInterval(b.current)},a=()=>{var e;null===(e=y.current)||void 0===e||e.play(),b.current=window.setInterval(t,o)};return e.addEventListener("mouseenter",r),e.addEventListener("mouseleave",a),()=>{e.removeEventListener("mouseenter",r),e.removeEventListener("mouseleave",a),clearInterval(b.current)}}return()=>clearInterval(b.current)},[n,i,o,c,u,m]);const N=p.map((e,n)=>{var i;return(0,a.isValidElement)(e)?(0,a.cloneElement)(e,{key:n,ref:x[n],style:(0,s.A)({width:t,height:r},null!==(i=e.props.style)&&void 0!==i?i:{}),onClick:t=>{var r,a;null===(r=(a=e.props).onClick)||void 0===r||r.call(a,t),null===d||void 0===d||d(n)}}):e});return(0,l.jsx)("div",{ref:j,className:"card-swap-container",style:{width:t,height:r},children:N})},N=()=>(0,l.jsxs)("svg",{width:"36",height:"36",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("circle",{cx:"12",cy:"12",r:"10",fill:"#EEE"}),(0,l.jsx)("circle",{cx:"12",cy:"9",r:"3",fill:"#BDBDBD"}),(0,l.jsx)("path",{d:"M4.5 18.5C6 15.5 8.7 14 12 14c3.3 0 6 1.5 7.5 4.5",stroke:"#BDBDBD",strokeWidth:"2",strokeLinecap:"round"})]});const k=function(){const[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)(!0),i=(0,a.useMemo)(()=>[{quote:"The craftsmanship and attention to detail are incredible. Every piece tells a story.",customer_name:"Aarav Sharma",location:"Delhi"},{quote:"Beautiful, functional, and uniquely handmade. I absolutely love my new mug!",customer_name:"Mira Kapoor",location:"Mumbai"},{quote:"A wonderful studio experience \u2014 warm people and inspiring work all around.",customer_name:"Kabir Singh",location:"Bengaluru"}],[]);if((0,a.useEffect)(()=>{let e=!0;return(async()=>{try{var r,a,i;const s=await n.A.get("".concat("/api","/media/testimonials/text/")),l=null!==(r=null!==(a=null===(i=s.data)||void 0===i?void 0:i.results)&&void 0!==a?a:s.data)&&void 0!==r?r:[];e&&t(l)}catch(l){e&&t([])}finally{e&&s(!1)}})(),()=>{e=!1}},[]),r)return null;const o=e&&e.length>0?e:i;return(0,l.jsx)("div",{className:"text-testimonial-stack",children:(0,l.jsx)(j,{width:520,height:360,cardDistance:70,verticalDistance:80,pauseOnHover:!0,delay:4500,children:o.map((e,t)=>(0,l.jsx)(b,{className:"testimonial-card",children:(0,l.jsxs)("div",{className:"testimonial-card-inner",children:[(0,l.jsx)("div",{className:"quote-mark",children:"\u201c"}),(0,l.jsx)("p",{className:"quote-text",children:e.quote}),(0,l.jsxs)("div",{className:"author-row",children:[(0,l.jsx)("div",{className:"avatar",children:(0,l.jsx)(N,{})}),(0,l.jsxs)("div",{className:"author-meta",children:[(0,l.jsx)("div",{className:"author-name",children:e.customer_name||"Anonymous"}),e.location?(0,l.jsx)("div",{className:"author-location",children:e.location}):null]})]})]})},t))})})};const M=e=>{let{text:t="Testimonials",fontFamily:r="Poppins",size:n="clamp(2.5rem, 6vw, 5.5rem)"}=e;const s=(0,a.useRef)(null),[i,o]=(0,a.useState)(!1),c=(0,a.useMemo)(()=>function(e){return e.split("").map((e,t)=>({ch:e,key:"".concat(e,"-").concat(t)}))}(t),[t]);return(0,a.useEffect)(()=>{const e=s.current;if(!e||i)return;let t;const r={current:!1},a=()=>{r.current=!0};window.addEventListener("scroll",a,{passive:!0}),window.addEventListener("touchmove",a,{passive:!0});const n=e.closest(".media-testimonials")||e;return t=new IntersectionObserver(a=>{a.forEach(a=>{if(a.isIntersecting&&!i&&r.current){const r=e.querySelectorAll(".split-char");f.Ay.fromTo(r,{yPercent:120,opacity:0},{yPercent:0,opacity:1,duration:.9,ease:"power3.out",stagger:.045}),o(!0),t&&t.disconnect()}})},{root:null,threshold:.5}),t.observe(n),()=>{t&&t.disconnect(),window.removeEventListener("scroll",a),window.removeEventListener("touchmove",a)}},[i]),(0,l.jsx)("h2",{ref:s,className:"heading-split",style:{fontFamily:r},children:c.map(e=>{let{ch:t,key:r}=e;return(0,l.jsx)("span",{className:"split-wrapper",children:(0,l.jsx)("span",{className:"split-char",style:{fontSize:n},children:" "===t?"\xa0":t})},r)})})};function C(e){var t,r,n,s;let{videos:i=[],onPlay:o}=e;const[c,d]=(0,a.useState)(0),u=i.length,m=u?i[c%u]:null,h=(0,a.useMemo)(()=>m?m.thumbnail_url||"/static/images/gallery/vdbg.png":null,[m]);return u?(0,l.jsxs)("section",{className:"video-hero-section",style:{backgroundImage:"url(/static/images/gallery/vdbg.png)",backgroundSize:"cover",backgroundPosition:"center"},children:[(0,l.jsxs)("div",{className:"video-hero-side left",children:[(0,l.jsx)("div",{className:"name-bar",children:(0,l.jsx)("span",{className:"name-text",children:(null===(t=i[(c-2+u)%u])||void 0===t?void 0:t.customer_name)||""})}),(0,l.jsx)("div",{className:"name-bar",children:(0,l.jsx)("span",{className:"name-text",children:(null===(r=i[(c-1+u)%u])||void 0===r?void 0:r.customer_name)||""})}),(0,l.jsx)("button",{className:"side-arrow","aria-label":"Previous",onClick:()=>d(e=>(e-1+u)%u),children:"\u2190"})]}),(0,l.jsxs)("div",{className:"video-hero-center",children:[(0,l.jsxs)("div",{className:"center-card",style:{backgroundImage:h?"url(".concat(h,")"):void 0},children:[(0,l.jsx)("button",{className:"play-button","aria-label":"Play video",onClick:()=>o&&o(m),children:"\u25b6"}),(0,l.jsxs)("div",{className:"center-info",children:[(0,l.jsx)("div",{className:"name",children:m.customer_name}),(m.location||m.description)&&(0,l.jsx)("div",{className:"role",children:m.location||m.description})]})]}),(0,l.jsxs)("div",{className:"video-mobile-nav",children:[(0,l.jsx)("button",{className:"mobile-nav-arrow prev","aria-label":"Previous review",onClick:()=>d(e=>(e-1+u)%u),children:(0,l.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,l.jsx)("polyline",{points:"15 18 9 12 15 6"})})}),(0,l.jsx)("div",{className:"video-nav-dots",children:i.map((e,t)=>(0,l.jsx)("span",{className:"nav-dot ".concat(t===c?"active":""),onClick:()=>d(t)},t))}),(0,l.jsx)("button",{className:"mobile-nav-arrow next","aria-label":"Next review",onClick:()=>d(e=>(e+1)%u),children:(0,l.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,l.jsx)("polyline",{points:"9 18 15 12 9 6"})})})]})]}),(0,l.jsxs)("div",{className:"video-hero-side right",children:[(0,l.jsx)("div",{className:"name-bar",children:(0,l.jsx)("span",{className:"name-text",children:(null===(n=i[(c+1)%u])||void 0===n?void 0:n.customer_name)||""})}),(0,l.jsx)("div",{className:"name-bar",children:(0,l.jsx)("span",{className:"name-text",children:(null===(s=i[(c+2)%u])||void 0===s?void 0:s.customer_name)||""})}),(0,l.jsx)("button",{className:"side-arrow","aria-label":"Next",onClick:()=>d(e=>(e+1)%u),children:"\u2192"})]})]}):null}const R="/api";const A=function(){const e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:768;const[t,r]=(0,a.useState)("undefined"!==typeof window&&window.innerWidth<=e);return(0,a.useEffect)(()=>{const t=()=>r(window.innerWidth<=e);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[e]),t}(),[t,r]=(0,a.useState)([]),[s,i]=(0,a.useState)([]),[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)([]),[m,h]=(0,a.useState)([]),[v]=(0,a.useState)("all"),[f,y]=(0,a.useState)(null),[b,w]=(0,a.useState)(0),[j,N]=(0,a.useState)(null),[A,D]=(0,a.useState)(8);(0,a.useMemo)(()=>({fit:e?.85:.48,maxVerticalRotationDeg:e?2:4,dragSensitivity:e?12:24,minRadius:e?200:1500,imageBorderRadius:e?"8px":"18px",openedImageBorderRadius:e?"12px":"22px",openedImageWidth:e?"240px":"320px",openedImageHeight:e?"320px":"420px"}),[e]),(0,a.useEffect)(()=>{(async()=>{try{const[e,t,a,s,l]=await Promise.all([n.A.get("".concat(R,"/media/gallery/"),{params:{category:"product"}}),n.A.get("".concat(R,"/media/gallery/"),{params:{category:"workshop"}}),n.A.get("".concat(R,"/media/gallery/"),{params:{category:"studio"}}),n.A.get("".concat(R,"/media/experiences/")),n.A.get("".concat(R,"/media/testimonials/video/"))]);r(e.data.results||e.data),i(t.data.results||t.data),c(a.data.results||a.data),u(s.data.results||s.data),h(l.data.results||l.data)}catch(e){console.error("Error fetching media data:",e)}})()},[]);const E="all"===v?t:t.filter(e=>e.category===v),S=(0,a.useCallback)(e=>{const t="next"===e?(b+1)%E.length:(b-1+E.length)%E.length;w(t),y(E[t].image_url)},[b,E]);return(0,a.useEffect)(()=>{const e=e=>{f&&("ArrowRight"===e.key&&S("next"),"ArrowLeft"===e.key&&S("prev"),"Escape"===e.key&&y(null))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[f,S]),(0,l.jsxs)("div",{className:"media-page",children:[(0,l.jsx)("section",{className:"media-hero",style:{backgroundImage:"linear-gradient(90deg, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 50%, rgba(0,0,0,0.8) 100%), url('/static/images/gallery/str.jpg')",backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat"},children:(0,l.jsxs)("div",{className:"media-hero-content",children:[(0,l.jsx)("h1",{children:"Stories & Moments"}),(0,l.jsx)("p",{children:"A collection of handcrafted work, shared experiences, and the quiet moments that define Basho \u2014 told through images and heartfelt words."})]})}),(0,l.jsxs)("section",{className:"media-gallery",children:[t.length>0&&!e&&(0,l.jsxs)("div",{className:"dome-gallery-wrapper",children:[(0,l.jsx)("div",{className:"section-header dome-header",children:(0,l.jsx)("h2",{children:"Product Gallery"})}),(0,l.jsx)(g,{images:t.map(e=>({src:e.image_url,alt:e.caption||e.title||"Gallery image"})),fit:.48,padFactor:.02,maxVerticalRotationDeg:4,dragSensitivity:24,minRadius:1500,grayscale:!1,imageBorderRadius:"18px",openedImageBorderRadius:"22px",openedImageWidth:"320px",openedImageHeight:"420px"})]}),t.length>0&&e&&(0,l.jsxs)("div",{className:"mobile-product-gallery",children:[(0,l.jsxs)("div",{className:"mobile-gallery-header",children:[(0,l.jsx)("span",{className:"gallery-label",children:"OUR COLLECTION"}),(0,l.jsx)("h2",{className:"gallery-title",children:"Product Gallery"}),(0,l.jsx)("p",{className:"gallery-subtitle",children:"Handcrafted with intention"})]}),(0,l.jsx)("div",{className:"mobile-gallery-scroll",children:t.slice(0,A).map((e,t)=>(0,l.jsxs)("div",{className:"mobile-gallery-card",onClick:()=>{w(t),y(e.image_url)},children:[(0,l.jsxs)("div",{className:"card-image-wrapper",children:[(0,l.jsx)("img",{src:e.image_url,alt:e.caption||e.title||"Gallery image",loading:"lazy"}),(0,l.jsx)("div",{className:"card-overlay",children:(0,l.jsx)("span",{className:"view-text",children:"View"})})]}),e.caption&&(0,l.jsx)("p",{className:"card-caption",children:e.caption})]},t))}),A<t.length&&(0,l.jsx)("div",{className:"load-more-container",children:(0,l.jsxs)("button",{className:"load-more-btn",onClick:()=>D(e=>e+8),children:[(0,l.jsx)("span",{children:"Load More"}),(0,l.jsxs)("span",{className:"load-more-count",children:["(",t.length-A," remaining)"]})]})}),A>=t.length&&t.length>8&&(0,l.jsx)("div",{className:"load-more-container",children:(0,l.jsx)("button",{className:"load-more-btn show-less",onClick:()=>D(8),children:"Show Less"})})]})]}),s.length>0&&(0,l.jsx)(p,{images:s.map(e=>({src:e.image_url,alt:e.caption||"Workshop moment",caption:e.caption})),title:"Workshop Moments",style:{backgroundImage:"url(/static/images/gallery/wrkev.png)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),o.length>0&&(0,l.jsx)(x,{images:o.map(e=>({src:e.image_url,alt:e.caption||"Studio event",caption:e.caption})),title:"Studio & Events",style:{backgroundImage:"url(/static/images/gallery/stdev.png)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),(0,l.jsx)("section",{className:"media-testimonials",style:{backgroundImage:"url(/static/images/gallery/textbg.jpg)",backgroundSize:"cover",backgroundPosition:"center top",backgroundRepeat:"no-repeat"},children:(0,l.jsxs)("div",{className:"testimonial-layout",children:[(0,l.jsxs)("div",{className:"testimonial-left",children:[(0,l.jsx)(M,{text:"Testimonials"}),(0,l.jsx)("p",{className:"testimonial-subtext",children:"What people are saying about their experiences."})]}),(0,l.jsx)("div",{className:"testimonial-right",children:(0,l.jsx)(k,{})})]})}),m.length>0&&(0,l.jsx)(C,{videos:m,onPlay:N}),d.length>0&&(0,l.jsxs)("section",{className:"customer-experiences-section",children:[(0,l.jsxs)("div",{className:"experiences-header",children:[(0,l.jsx)("h2",{children:"Proven track of satisfied clients"}),(0,l.jsx)("p",{children:"We cherish relations to blossom and last"})]}),(0,l.jsx)("div",{className:"experiences-masonry",children:d.map(e=>(0,l.jsxs)("div",{className:"experience-testimonial-card",children:[(0,l.jsx)("div",{className:"experience-title",children:e.title&&e.title.trim()?e.title:"Customer Story"}),(0,l.jsxs)("p",{className:"experience-quote",children:['"',e.paragraph,'"']}),(0,l.jsxs)("div",{className:"experience-author-info",children:[e.image_url&&(0,l.jsx)("img",{src:e.image_url,alt:e.customer_name||"Customer",className:"experience-avatar"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"experience-author-name",children:e.customer_name||"Anonymous"}),e.context&&(0,l.jsx)("div",{className:"experience-author-role",children:e.context})]})]})]},e.id))})]}),(0,l.jsxs)("div",{className:"lightbox-overlay ".concat(f?"active":""),onClick:()=>y(null),children:[(0,l.jsx)("button",{className:"lightbox-close",onClick:()=>y(null),"aria-label":"Close lightbox",children:"\xd7"}),E.length>1&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{className:"lightbox-nav prev",onClick:e=>{e.stopPropagation(),S("prev")},"aria-label":"Previous image",children:"\u2190"}),(0,l.jsx)("button",{className:"lightbox-nav next",onClick:e=>{e.stopPropagation(),S("next")},"aria-label":"Next image",children:"\u2192"})]}),f&&(0,l.jsx)("div",{className:"lightbox-content",onClick:e=>e.stopPropagation(),children:(0,l.jsx)("img",{src:f,alt:"Gallery enlarged"})})]}),(0,l.jsxs)("div",{className:"video-modal-overlay ".concat(j?"active":""),onClick:()=>N(null),children:[(0,l.jsx)("button",{className:"video-modal-close",onClick:()=>N(null),"aria-label":"Close video",children:"\xd7"}),j&&(0,l.jsx)("div",{className:"video-modal-content",onClick:e=>e.stopPropagation(),children:j.video_file_url?(0,l.jsx)("video",{src:j.video_file_url,controls:!0,autoPlay:!0,style:{maxWidth:"90vw",maxHeight:"80vh",borderRadius:"8px"}}):j.video_url?(0,l.jsx)("iframe",{src:j.video_url,title:j.customer_name,width:"800",height:"450",frameBorder:"0",allow:"autoplay; fullscreen",allowFullScreen:!0,style:{borderRadius:"8px",maxWidth:"90vw"}}):(0,l.jsx)("p",{style:{color:"white"},children:"Video not available"})})]})]})}}}]);
//# sourceMappingURL=452.c48f8a95.chunk.js.map