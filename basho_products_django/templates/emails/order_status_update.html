<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Order Status Update - {{ order_number }}</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background-color: #f8f5f0; }
        .container { max-width: 600px; margin: 0 auto; background: white; }
        .header { background: linear-gradient(135deg, #d2691e, #8b4513); color: white; padding: 40px 30px; text-align: center; }
        .header h1 { margin: 0; font-size: 28px; font-weight: 300; }
        .header .accent { font-weight: 600; }
        .content { padding: 40px 30px; }
        .status-update { background: #d4edda; padding: 25px; border-radius: 8px; margin: 25px 0; border-left: 4px solid #28a745; }
        .status-badge { display: inline-block; padding: 8px 16px; background: #28a745; color: white; border-radius: 20px; font-size: 16px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; }
        .order-details { background: #f9f6f0; padding: 25px; border-radius: 8px; margin: 25px 0; border-left: 4px solid #d2691e; }
        .detail-row { display: flex; justify-content: space-between; margin-bottom: 10px; }
        .detail-label { font-weight: 600; color: #8b4513; }
        .timeline { background: #f8f9fa; padding: 25px; border-radius: 8px; margin: 25px 0; }
        .timeline-item { display: flex; align-items: flex-start; margin-bottom: 20px; }
        .timeline-item.completed .timeline-marker { background: #28a745; }
        .timeline-item.current .timeline-marker { background: #ffc107; border: 3px solid #fff; box-shadow: 0 0 0 2px #ffc107; }
        .timeline-item.pending .timeline-marker { background: #e9ecef; }
        .timeline-marker { width: 16px; height: 16px; border-radius: 50%; margin-right: 15px; margin-top: 3px; flex-shrink: 0; }
        .timeline-content h4 { margin: 0 0 5px 0; color: #8b4513; }
        .timeline-content p { margin: 0; color: #666; }
        .contact-info { background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 25px 0; }
        .footer { background: #8b4513; color: white; padding: 30px; text-align: center; font-size: 14px; }
        .footer a { color: #d2691e; text-decoration: none; }
        .button { display: inline-block; padding: 12px 24px; background: #d2691e; color: white; text-decoration: none; border-radius: 6px; font-weight: 500; margin: 10px 0; }
        .button:hover { background: #b8571f; }
        h2 { color: #8b4513; margin-top: 30px; margin-bottom: 15px; }
        p { margin-bottom: 15px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><span class="accent">陶器</span> Order Update</h1>
            <p>Your custom pottery is progressing beautifully</p>
        </div>

        <div class="content">
            <p>Dear {{ customer_name }},</p>

            <div class="status-update">
                <h2>Status Update</h2>
                <p>Great news! Your custom order <strong>{{ order_number }}</strong> has been updated to:</p>
                <div class="status-badge">{{ status_display }}</div>
            </div>

            <div class="order-details">
                <h2>Order Summary</h2>
                <div class="detail-row">
                    <span class="detail-label">Order Number:</span>
                    <span>{{ order_number }}</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Project Type:</span>
                    <span>{{ project_type_display }}</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Current Status:</span>
                    <span class="status-badge">{{ status_display }}</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Order Date:</span>
                    <span>{{ created_at|date:"F j, Y" }}</span>
                </div>
            </div>

            <div class="timeline">
                <h2>Order Progress</h2>
                {% for step in timeline_steps %}
                <div class="timeline-item {{ step.status }}">
                    <div class="timeline-marker"></div>
                    <div class="timeline-content">
                        <h4>{{ step.title }}</h4>
                        <p>{{ step.description }}</p>
                        {% if step.date %}
                        <small style="color: #8b4513; font-weight: 500;">{{ step.date|date:"M j, Y" }}</small>
                        {% endif %}
                    </div>
                </div>
                {% endfor %}
            </div>

            {% if next_steps %}
            <div class="next-steps" style="background: #fff3cd; padding: 20px; border-radius: 8px; margin: 25px 0; border-left: 4px solid #ffc107;">
                <h2>What's Next?</h2>
                {% for step in next_steps %}
                <p><strong>{{ step.title }}:</strong> {{ step.description }}</p>
                {% endfor %}
            </div>
            {% endif %}

            <div class="contact-info">
                <h2>Questions or Concerns?</h2>
                <p>We're here to ensure your custom pottery creation exceeds your expectations.</p>
                <p><strong>Phone:</strong> {{ company_phone }}<br>
                <strong>Email:</strong> {{ company_email }}<br>
                <strong>Address:</strong> {{ company_address }}</p>

                <a href="mailto:{{ company_email }}?subject=Order {{ order_number }} Update" class="button">Contact Us</a>
            </div>

            <p>Thank you for your patience and trust in our craftsmanship. We look forward to sharing your completed piece soon!</p>

            <p>Best regards,<br>
            <strong>The Basho Pottery Team</strong></p>
        </div>

        <div class="footer">
            <p><strong>{{ company_name }}</strong><br>
            Crafting mindful pottery since 2020<br>
            <a href="https://bashopottery.com">Visit our website</a> | <a href="mailto:{{ company_email }}">Contact us</a></p>
        </div>
    </div>
</body>
</html>